<form id="waitlistForm">
  <input
    type="email"
    id="email"
    placeholder="Enter your email"
    required
  />
  <button type="submit">Join Early Access</button>
</form>

<p id="status" style="color:#ccc;margin-top:10px;"></p>

<script>
  const form = document.getElementById("waitlistForm");
  const status = document.getElementById("status");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = document.getElementById("email").value;
    status.textContent = "Submitting...";

    const formData = new FormData();
    formData.append("email", email);

    try {
      const res = await fetch(
        "https://script.google.com/macros/s/AKfycbwAzlcs82UPSUNkix5YipDjJD4BWbrkawXVnNITghKeyxhwiRztjMomY9uTFxhsWA9d/exec",
        { method: "POST", body: formData }
      );

      const text = await res.text();

      if (text.includes("OK")) {
        window.location.href = "/success.html";
      } else {
        status.textContent = "Submission failed. Try again.";
      }
    } catch {
      status.textContent = "Network error.";
    }
  });
</script>
